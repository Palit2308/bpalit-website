<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Biswajit | Thought Blog</title>
  <link rel="stylesheet" href="css/style.css" />

  <!-- Markdown renderer (Option A) -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <style>
    /* Tiny layout helpers, keeps your existing aesthetic */
    .blog-shell { gap: 16px; }

    .blog-grid {
      display: grid;
      gap: 16px;
      grid-template-columns: 1.05fr 1.25fr;
      align-items: start;
    }

    @media (max-width: 980px) {
      .blog-grid { grid-template-columns: 1fr; }
    }

    .pill-row { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; }
    .pill {
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.04);
      padding: 6px 10px;
      border-radius: 999px;
      cursor: pointer;
      user-select: none;
      font-size: 0.92rem;
    }
    .pill[aria-pressed="true"] {
      background: rgba(255,255,255,0.10);
      border-color: rgba(255,255,255,0.28);
    }

    .post-list { display: grid; gap: 14px; }
    .post-card { cursor: pointer; }
    .post-card:hover { transform: translateY(-1px); }
    .post-meta { display: flex; gap: 10px; flex-wrap: wrap; align-items: baseline; }
    .post-date { opacity: 0.75; font-size: 0.92rem; }
    .tag-mini { opacity: 0.8; font-size: 0.9rem; }

    .reader {
      min-height: 260px;
    }

    /* Markdown inside your card */
    .md h1, .md h2, .md h3 { margin: 0.2rem 0 0.6rem; }
    .md p { margin: 0.65rem 0; }
    .md ul { margin: 0.6rem 0 0.6rem 1.2rem; }
    .md code { padding: 0.1rem 0.25rem; border-radius: 6px; background: rgba(255,255,255,0.06); }
    .md pre { padding: 12px; border-radius: 14px; overflow: auto; background: rgba(255,255,255,0.06); }
    .md blockquote {
      margin: 0.8rem 0;
      padding: 0.6rem 0.9rem;
      border-left: 3px solid rgba(255,255,255,0.22);
      background: rgba(255,255,255,0.04);
      border-radius: 12px;
    }
  </style>
</head>

<body>
  <!-- SAME BACKGROUND (copy from index.html) -->
  <div class="bg-art" aria-hidden="true">
 <!-- topleft: stochastic diffusion path -->
<svg class="bg-doodle diffusion diffusion-topleft"
     viewBox="0 0 400 260"
     aria-hidden="true">

  <!-- diffusion path -->
  <defs>
  <linearGradient id="fade-gradient" x1="0" y1="0" x2="1" y2="0">
    <stop offset="0%" stop-color="currentColor" stop-opacity="0.15"/>
    <stop offset="60%" stop-color="currentColor" stop-opacity="0.35"/>
    <stop offset="100%" stop-color="currentColor" stop-opacity="0.10"/>
  </linearGradient>
</defs>

<!-- y-axis (vertical, faint) -->
<line x1="40" y1="40"
      x2="40" y2="220"
      class="axis" stroke="url(#fade-gradient)"/>

<!-- x-axis (horizontal, faint) -->
<line x1="40" y1="180"
      x2="360" y2="180"
      class="axis" stroke="url(#fade-gradient)"/>

<path d="
  M20 140
  L40 120
  L60 150
  L80 110
  L100 130
  L120 90
  L140 120
  L160 80
  L180 105
  L200 70
  L220 110
  L240 95
  L260 130
  L280 100
  L300 140
  L320 120
  L340 155
  L360 135
  L380 160
"
stroke="url(#fade-gradient)" />
 </svg>
 <!-- Bottom-left: OLS derivation (ambient chalk) -->
<svg class="bg-doodle math math-bottomleft"
     viewBox="0 0 620 220"
     aria-hidden="true">

  <!-- Title -->
  <text x="22" y="40" font-size="18">Y = XŒ≤ + u</text>

  <!-- Steps (kept short; chalk-note vibe) -->
  <text x="22" y="88"  font-size="16">min_Œ≤  E[(Y ‚àí XŒ≤)¬≤]</text>
  <text x="22" y="116" font-size="16">‚áí X'(Y ‚àí XŒ≤ÃÇ) = 0</text>
  <text x="22" y="144" font-size="16">‚áí X'X Œ≤ÃÇ = X'Y</text>
  <text x="22" y="172" font-size="16">‚áí Œ≤ÃÇ = (X'X)‚Åª¬π X'Y</text>

  <!-- small margin doodles -->
  <path d="M520 92 Q560 82 595 100" opacity="0.5"/>
  <path d="M520 150 Q560 140 595 158" opacity="0.5"/>
</svg>
<svg class="bg-doodle hedge hedge-bottomleft"
     viewBox="0 0 620 220"
     aria-hidden="true">

  <!-- Linear projection "plane" (a slanted parallelogram) -->
  <path d="M90 120 L260 90 L360 130 L190 160 Z" stroke="url(#fade-gradient)"></path>/>

  <!-- Plane label: X Œ≤ÃÇ -->
  <text x="205" y="135" font-size="16">XŒ≤ÃÇ</text>

  <!-- Point Y above the plane -->
  <circle cx="250" cy="40" r="4" fill="rgba(255,255,255,0.12)" stroke="url(#fade-gradient)"></circle>
  <text x="262" y="45" font-size="16">Y</text>

  <!-- Dotted projection line down to plane: U -->
  <path d="M250 44 L250 105"
      stroke-dasharray="4 6"></path> />
  <text x="262" y="92" font-size="16">U</text>
</svg>
<svg class="bg-doodle hedge hedge-text"
     viewBox="0 0 820 220"
     aria-hidden="true">
  <!-- Martingale-style statement -->
  <text x="440" y="78" font-size="16">Y = VÃÇ(Œæ) + M</text>
  <text x="440" y="105" font-size="15">E[M | ùìï‚Çô] = 0  (Q-martingale)</text>

  <!-- Hedge interpretation -->
  <text x="440" y="140" font-size="14">Œæ* : variance-optimal hedge at time n</text>

</svg>
<svg class="bg-doodle tree tree-bottomleft"
     viewBox="0 0 520 220"
     aria-hidden="true">

  <!-- Branches: t0 -> t1 -->
  <path d="M60 110 L170 70" />
  <path d="M60 110 L170 150" />

  <!-- Branches: t1 -> t2 (recombining) -->
  <path d="M170 70  L280 40" />
  <path d="M170 70  L280 110" />
  <path d="M170 150 L280 110" />
  <path d="M170 150 L280 180" />

  <!-- Branches: t2 -> t3 (recombining) -->
  <path d="M280 40  L390 20" />
  <path d="M280 40  L390 75" />

  <path d="M280 110 L390 75" />
  <path d="M280 110 L390 145" />

  <path d="M280 180 L390 145" />
  <path d="M280 180 L390 200" />

  <!-- Nodes as "()" -->
  <text x="50"  y="116" font-size="18">( )</text>

  <text x="160" y="76"  font-size="18">( )</text>
  <text x="160" y="156" font-size="18">( )</text>

  <text x="270" y="46"  font-size="18">( )</text>
  <text x="270" y="116" font-size="18">( )</text>
  <text x="270" y="186" font-size="18">( )</text>

  <text x="380" y="26"  font-size="18">( )</text>
  <text x="380" y="81"  font-size="18">( )</text>
  <text x="380" y="151" font-size="18">( )</text>
  <text x="380" y="206" font-size="18">( )</text> 

</svg>
<!-- Top-right: song chorus (ambient text) -->
<svg class="bg-doodle lyrics lyrics-topright"
     viewBox="0 0 420 660"
     aria-hidden="true">

  <text x="0" y="40"  font-size="16">To those who can hear me, I say - do not despair.</text>
  <text x="0" y="70"  font-size="16">The misery that is now upon us is but the passing of greed</text>
  <text x="0" y="100" font-size="16">The bitterness of men who fear the way of human progress.</text>
  <text x="0" y="130" font-size="16">The hate of men will pass, and dictators die,</text>
  <text x="0" y="160" font-size="16">And the power they took from the people will return to the people.</text>
  <text x="0" y="190" font-size="16">And so long as men die, liberty will never perish...</text>
  <text x="0" y="220" font-size="16">And the power they took from the people will return to the people.</text>
  <text x="0" y="250" font-size="16">Don't give yourselves to these unnatural men</text>
  <text x="0" y="280" font-size="16">You are not machines. You are not cattle. You are men.</text>
  <text x="0" y="310" font-size="16">You, the people, have the power to make this life free and beautiful</text>
  <text x="0" y="340" font-size="16">To make this life a wonderful adventure</text>
  <text x="0" y="3700" font-size="16">Let us use that power - let us all unite.</text>

</svg>

<!-- Top-right: coffee beans + french press (ambient doodle) -->
<svg class="bg-doodle coffee coffee-topright"
     viewBox="0 0 520 320"
     aria-hidden="true">

  <!-- Coffee beans -->
  <g opacity="0.9">
    <ellipse cx="90" cy="90" rx="26" ry="18" transform="rotate(-18 90 90)" />
    <path d="M78 84 Q90 90 102 96" fill="none" />

    <ellipse cx="145" cy="130" rx="24" ry="16" transform="rotate(12 145 130)" />
    <path d="M134 125 Q145 130 156 136" fill="none" />

    <ellipse cx="120" cy="185" rx="22" ry="15" transform="rotate(-8 120 185)" />
    <path d="M110 180 Q120 185 130 190" fill="none" />

    <ellipse cx="65" cy="170" rx="20" ry="14" transform="rotate(22 65 170)" />
    <path d="M56 165 Q65 170 74 176" fill="none" />

    <ellipse cx="190" cy="95" rx="14" ry="10" transform="rotate(-10 190 95)" />
    <path d="M184 92 Q190 95 196 99" fill="none" />

    <ellipse cx="200" cy="165" rx="13" ry="9" transform="rotate(18 200 165)" />
    <path d="M194 162 Q200 165 206 169" fill="none" />
  </g>

  <!-- French press -->
  <g opacity="0.9">
    <path d="M310 70
             Q290 78 292 98
             L300 230
             Q302 252 330 258
             L400 258
             Q428 252 430 230
             L438 98
             Q440 78 420 70
             Z" fill="none" />

    <path d="M302 200 L428 200" />

    <path d="M294 110 L436 110" />
    <path d="M296 150 L434 150" />

    <path d="M438 120
             Q470 128 472 160
             Q470 192 440 200" fill="none" />

    <path d="M300 78 Q292 70 282 70" fill="none" />

    <path d="M300 70 L438 70" />
    <path d="M320 52 L418 52" />
    <path d="M332 52 L332 70" />
    <path d="M406 52 L406 70" />

    <path d="M369 20 L369 70" />

    <circle cx="369" cy="16" r="8" fill="none" />
  </g>

</svg>

 </div>

  <!-- Top Nav -->
  <header class="topbar">
    <div class="brand neon">bp://thought-blog</div>

    <nav class="tabs" aria-label="Primary">
      <a class="tab" href="index.html">Home</a>
      <a class="tab" href="assets/Resume_updated.pdf" target="_blank" rel="noopener">CV</a>
      <a class="tab" href="https://github.com/Palit2308" target="_blank" rel="noopener">Git</a>
      <a class="tab" href="https://www.linkedin.com/in/biswajit-palit-6290a7132/" target="_blank" rel="noopener">LinkedIn</a>
      <a class="tab active" href="index2.html">Blog</a>
      <details class="tab dropdown">
        <summary class="tab">Contact</summary>
        <div class="dropdown-menu">
          <a href="mailto:stu257633@mail.uni-kiel.de">stu257633@mail.uni-kiel.de</a>
          <a href="mailto:biswajitpalit23@gmail.com">biswajitpalit23@gmail.com</a>
          <a href="tel:+4915730619761">+49 15730619761</a>
        </div>
      </details>
    </nav>
  </header>

  <main class="shell blog-shell">
    <section class="card">
      <h1 class="neon">Thought Blog</h1>
      <p class="muted">
        Notes, intuitions, half-formed arguments. Filter by tag, click a post to read.
      </p>
      <div class="pill-row" id="tagRow" aria-label="Tag filters"></div>
    </section>

    <section class="blog-grid">
      <!-- Left: list -->
      <section class="card">
        <h2 class="card-title neon">Posts</h2>
        <div class="divider"></div>
        <div id="postList" class="post-list"></div>
      </section>

      <!-- Right: reader -->
      <section class="card reader">
        <h2 class="card-title neon" id="readerTitle">Open a post</h2>
        <p class="muted" id="readerMeta">Click a post on the left.</p>
        <div class="divider"></div>
        <div id="readerBody" class="md"></div>
      </section>
    </section>
  </main>

  <script>
    // ---- Config ----
    const MANIFEST_URL = "posts/index.json";

    // ---- State ----
    let posts = [];
    let activeTag = "all";

    // ---- Elements ----
    const tagRow = document.getElementById("tagRow");
    const postList = document.getElementById("postList");
    const readerTitle = document.getElementById("readerTitle");
    const readerMeta = document.getElementById("readerMeta");
    const readerBody = document.getElementById("readerBody");

    // ---- Helpers ----
    function esc(s) {
      return String(s).replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;");
    }

    function sortNewestFirst(arr) {
      return [...arr].sort((a,b) => (b.date || "").localeCompare(a.date || ""));
    }

    function getAllTags(allPosts) {
      const set = new Set();
      allPosts.forEach(p => (p.tags || []).forEach(t => set.add(t)));
      return ["all", ...Array.from(set).sort((a,b) => a.localeCompare(b))];
    }

    function renderTags() {
      const tags = getAllTags(posts);

      tagRow.innerHTML = "";
      tags.forEach(tag => {
        const btn = document.createElement("button");
        btn.className = "pill";
        btn.type = "button";
        btn.textContent = tag;
        btn.setAttribute("aria-pressed", tag === activeTag ? "true" : "false");
        btn.addEventListener("click", () => {
          activeTag = tag;
          renderTags();
          renderPostList();
        });
        tagRow.appendChild(btn);
      });
    }

    function postMatchesTag(p) {
      if (activeTag === "all") return true;
      return (p.tags || []).includes(activeTag);
    }

    function renderPostList() {
      const view = sortNewestFirst(posts).filter(postMatchesTag);

      if (view.length === 0) {
        postList.innerHTML = `<p class="muted">No posts for this tag yet.</p>`;
        return;
      }

      postList.innerHTML = "";
      view.forEach(p => {
        const el = document.createElement("article");
        el.className = "card post-card";
        el.tabIndex = 0;

        const tagsInline = (p.tags || []).map(t => `#${esc(t)}`).join(" ");

        el.innerHTML = `
          <div class="post-meta">
            <div class="neon">${esc(p.title || p.slug || "Untitled")}</div>
          </div>
          <div class="post-meta">
            <div class="post-date muted">${esc(p.date || "")}</div>
            <div class="tag-mini muted">${tagsInline}</div>
          </div>
        `;

        const open = () => openPost(p);
        el.addEventListener("click", open);
        el.addEventListener("keydown", (e) => {
          if (e.key === "Enter") open();
        });

        postList.appendChild(el);
      });
    }

    async function openPost(p) {
      // update URL hash for shareable links
      if (p.slug) location.hash = p.slug;

      readerTitle.textContent = p.title || p.slug || "Post";
      readerMeta.textContent = `${p.date || ""}  ‚Ä¢  ${(p.tags || []).join(", ")}`;

      readerBody.innerHTML = `<p class="muted">Loading‚Ä¶</p>`;

      try {
        const res = await fetch(`posts/${p.file}`);
        if (!res.ok) throw new Error(`HTTP ${res.status}`);
        const md = await res.text();

        // marked renders markdown -> HTML
        readerBody.innerHTML = marked.parse(md);
      } catch (err) {
        console.error(err);
        readerBody.innerHTML = `<p class="muted">Could not load this post.</p>`;
      }
    }

    function openFromHash() {
      const slug = (location.hash || "").replace("#", "").trim();
      if (!slug) return;

      const p = posts.find(x => x.slug === slug);
      if (p) openPost(p);
    }

    async function init() {
      try {
        const res = await fetch(MANIFEST_URL);
        if (!res.ok) throw new Error(`HTTP ${res.status}`);
        posts = await res.json();

        renderTags();
        renderPostList();
        openFromHash();
      } catch (err) {
        console.error(err);
        postList.innerHTML = `<p class="muted">Could not load posts manifest.</p>`;
      }
    }

    window.addEventListener("hashchange", openFromHash);
    init();
  </script>
</body>
</html>